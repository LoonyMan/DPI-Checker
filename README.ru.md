# DPI Checker

[üá¨üáß English version / English version](./README.md)

DPI Checker ‚Äî —Å–∫—Ä–∏–ø—Ç –¥–ª—è OpenWRT –¥–ª—è **—Ä–µ–≥—É–ª—è—Ä–Ω–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π) –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ö–æ–¥–∞ DPI**.

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ü–µ–ª–µ–π, —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –∑–∞–ø—É—Å–∫–æ–º, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç JSON-–æ—Ç—á—ë—Ç—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç Telegram-–æ—Ç—á—ë—Ç —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –ø–æ –¥–æ–º–µ–Ω–∞–º.

---

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω —Å–∫—Ä–∏–ø—Ç

DPI Checker –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –≤–∞—à–∞ —Ç–µ–∫—É—â–∞—è —Å—Ö–µ–º–∞ –æ–±—Ö–æ–¥–∞ DPI —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º.

–¢–∏–ø–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:
- –∑–∞–ø—É—Å–∫ —Ä–∞–∑ –≤ –¥–µ–Ω—å —á–µ—Ä–µ–∑ cron
- –ø–æ–ª—É—á–µ–Ω–∏–µ –∫—Ä–∞—Ç–∫–æ–≥–æ –æ—Ç—á—ë—Ç–∞ –≤ Telegram
- –±—ã—Å—Ç—Ä–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –¥–µ–≥—Ä–∞–¥–∏—Ä–æ–≤–∞–ª–æ –∏ –∫–∞–∫–∏–µ –¥–æ–º–µ–Ω—ã –æ—Ç–≤–∞–ª–∏–ª–∏—Å—å


<img width="326" height="181" alt="–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ" src="https://github.com/user-attachments/assets/dbef2992-d387-4b8e-b276-2b905e7ae913" />

<details>
  <summary>–õ–æ–≥–∏</summary>
  <img width="1427" height="1245" alt="–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ" src="https://github.com/user-attachments/assets/1c5ce7ef-0673-43b0-ae16-c42140f1a688" />
</details>

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö/–ø—Ä–∏–¥—É—à–µ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ü–µ–ª–∏ –∏–∑ `dpi-checkers` `suite.json`
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞–∂–¥—ã–π –ø—Ä–æ–≥–æ–Ω –≤ JSON-–æ—Ç—á—ë—Ç
- ‚úÖ –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –ø—Ä–æ–≥–æ–Ω–æ–º
- ‚úÖ Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (English / Russian)
- ‚úÖ –¢–∏—Ö–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–≥–æ–Ω–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- ‚úÖ –î–∏—Ñ—Ñ –¥–æ–º–µ–Ω–æ–≤ –º–µ–∂–¥—É –ø—Ä–æ–≥–æ–Ω–∞–º–∏:
  - –Ω–æ–≤—ã–µ –ø—Ä–æ–≤–∞–ª–∏–≤—à–∏–µ—Å—è
  - –Ω–æ–≤—ã–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–≤—à–∏–µ—Å—è
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å DPI bypass tools:
  - `zapret`
  - `zapret2`
  - `youtubeUnblock`
  - `goodbyedpi`
- ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç, –µ—Å–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∞–∫—Ç–∏–≤–Ω—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ DPI bypass tools
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ JSON-—Ñ–∞–π–ª—ã (retention)
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ (Easy / Full)
- ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è OpenWRT 24/25

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (Easy mode)

> –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –≤ –ø–∞–ø–∫–µ, –≥–¥–µ —Ö–æ—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç.  
> –í –ø—Ä–∏–º–µ—Ä–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `~/DPIChecker` (–¥–æ–º–∞—à–Ω—è—è –ø–∞–ø–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è). –î–ª—è cron –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å.

~~~sh
mkdir -p ~/DPIChecker && cd ~/DPIChecker
wget -O - https://raw.githubusercontent.com/LoonyMan/DPI-Checker/master/install.sh | sh
~~~

–£—Å—Ç–∞–Ω–æ–≤—â–∏–∫:
- —Å–∫–∞—á–∞–µ—Ç `dpi-checker.sh`
- —Å–æ–∑–¥–∞—Å—Ç `dpi-checker.env`
- –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –¥–æ–±–∞–≤–∏—Ç cron-–∑–∞–¥–∞—á—É

### Telegram –¥–∞–Ω–Ω—ã–µ

–ì–¥–µ –ø–æ–ª—É—á–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

- **–¢–æ–∫–µ–Ω –±–æ—Ç–∞** ‚Üí [@BotFather](https://t.me/BotFather)
- **Chat ID** ‚Üí [@userinfobot](https://t.me/userinfobot)

### –í Easy mode —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ

- `TELEGRAM_BOT_TOKEN`
- `TELEGRAM_CHAT_ID`
- `–Ø–∑—ã–∫ —Å–æ–æ–±—â–µ–Ω–∏–π Telegram`
- `–£–≤–µ–¥–æ–º–ª—è—Ç—å –æ–± —É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–≥–æ–Ω–∞—Ö?`
- `–í—Å–µ Telegram-—Å–æ–æ–±—â–µ–Ω–∏—è —Ç–∏—Ö–∏–µ (silent)?`

–í –∫–æ–Ω—Ü–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ —Ç–∞–∫–∂–µ —Å–ø—Ä–æ—Å–∏—Ç:
- –¥–æ–±–∞–≤–ª—è—Ç—å –ª–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ cron
- –≤–æ —Å–∫–æ–ª—å–∫–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É

---

## –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

~~~sh
cd ~/DPIChecker
. ./dpi-checker.env && ./dpi-checker.sh
~~~

---

## –ü—Ä–∏–º–µ—Ä cron

–ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ **06:00** (–ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —Ä–æ—É—Ç–µ—Ä–∞):

~~~cron
0 6 * * * cd '/home/youruser/DPIChecker' && . '/home/youruser/DPIChecker/dpi-checker.env' && ./dpi-checker.sh >/dev/null 2>&1 # DPI Checker
~~~

> –£–∫–∞–∂–∏—Ç–µ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å (–≤ cron –ª—É—á—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `~`).

---

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã ENV

–ù–∏–∂–µ ‚Äî –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `dpi-checker.sh`.

### Telegram / —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

- `TELEGRAM_BOT_TOKEN`  
  –¢–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞. –ü—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–∫–ª—é—á–∞–µ—Ç Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.

- `TELEGRAM_CHAT_ID`  
  Chat ID (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/–≥—Ä—É–ø–ø–∞/–∫–∞–Ω–∞–ª, –∫—É–¥–∞ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è).

- `TG_LANG`  
  –Ø–∑—ã–∫ —Å–æ–æ–±—â–µ–Ω–∏–π Telegram: `en` –∏–ª–∏ `ru`.

- `TG_NOTIFY_SUCCESS`  
  - `1` = –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç—á—ë—Ç—ã –∏ –æ–± —É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–≥–æ–Ω–∞—Ö  
  - `0` = –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—é/–æ—à–∏–±–∫–∏

- `TG_ALL_SILENT`  
  - `1` = –≤—Å–µ Telegram-—Å–æ–æ–±—â–µ–Ω–∏—è —Ç–∏—Ö–∏–µ  
  - `0` = –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è/–æ—à–∏–±–∫–∏ –æ–±—ã—á–Ω—ã–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º, —É—Å–ø–µ—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å silent

- `TELEGRAM_LIST_MAX_LINES`  
  –ú–∞–∫—Å–∏–º—É–º –¥–æ–º–µ–Ω–æ–≤ –≤ –∫–∞–∂–¥–æ–º —Å–ø–∏—Å–∫–µ (`newly failed`, `newly recovered`).

- `TELEGRAM_MESSAGE_MAX`  
  –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ Telegram-—Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ –æ–±—Ä–µ–∑–∫–∏.

### –û—Ç—á—ë—Ç—ã / —Ñ–∞–π–ª—ã

- `OUT_DIR`  
  –ü–∞–ø–∫–∞, –≥–¥–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è JSON-–æ—Ç—á—ë—Ç—ã.

- `OUT_PREFIX`  
  –ü—Ä–µ—Ñ–∏–∫—Å –∏–º—ë–Ω JSON-—Ñ–∞–π–ª–æ–≤. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `dpi_checker_test_`.

- `TMP_BASE_DIR`  
  –ë–∞–∑–æ–≤–∞—è –ø–∞–ø–∫–∞ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

- `JSON_RETENTION_DAYS`  
  –£–¥–∞–ª—è—Ç—å JSON-–æ—Ç—á—ë—Ç—ã —Å—Ç–∞—Ä—à–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π.

### –õ–æ–≥–∏

- `LOG_FILE`  
  –ü—É—Ç—å –∫ –ª–æ–≥-—Ñ–∞–π–ª—É. –ü—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–∫–ª—é—á–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª.

- `LOG_STDOUT`  
  - `1` = –≤—ã–≤–æ–¥–∏—Ç—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å  
  - `0` = –æ—Ç–∫–ª—é—á–∏—Ç—å –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ (advanced)

- `PARALLEL` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- `CURL_CONNECT_TIMEOUT` ‚Äî timeout –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è curl (—Å–µ–∫)
- `CURL_MAX_TIME` ‚Äî –º–∞–∫—Å–∏–º—É–º –≤—Ä–µ–º–µ–Ω–∏ curl –Ω–∞ —Ü–µ–ª—å (—Å–µ–∫)
- `CURL_SPEED_TIME` ‚Äî –ø–æ—Ä–æ–≥ low-speed –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è curl
- `CURL_SPEED_LIMIT` ‚Äî –ø–æ—Ä–æ–≥ low-speed –±–∞–π—Ç/—Å–µ–∫ –¥–ª—è curl
- `CURL_RANGE` ‚Äî HTTP range –¥–ª—è probe-–∑–∞–ø—Ä–æ—Å–∞
- `CURL_RETRIES` ‚Äî —á–∏—Å–ª–æ –ø–æ–≤—Ç–æ—Ä–æ–≤ –Ω–∞ —Ü–µ–ª—å
- `CURL_RETRY_DELAY` ‚Äî –ø–∞—É–∑–∞ –º–µ–∂–¥—É –ø–æ–≤—Ç–æ—Ä–∞–º–∏ (—Å–µ–∫)
- `USER_AGENT` ‚Äî User-Agent –¥–ª—è curl
- `NETCHECK_URL` ‚Äî URL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `https://ya.ru`)
- `DPI_SUITE_URL` ‚Äî URL `dpi-checkers` suite JSON –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π

---

## –ü—Ä–∏–º–µ—Ä –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ ENV

~~~sh
export TELEGRAM_BOT_TOKEN="123456:ABCDEF"
export TELEGRAM_CHAT_ID="123456789"

export OUT_DIR="$HOME/DPIChecker/results"
export TMP_BASE_DIR="$HOME/DPIChecker/tmp"

export TG_LANG="ru"
export JSON_RETENTION_DAYS="12"

export TG_NOTIFY_SUCCESS="1"
export TG_ALL_SILENT="0"

export LOG_FILE="$HOME/DPIChecker/dpi-checker.log"
export LOG_STDOUT="1"
~~~

---

## –ö–∞–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç—å DPI Checker

### 1) –£–¥–∞–ª–∏—Ç—å cron-–∑–∞–ø–∏—Å—å

~~~sh
grep -v "DPI Checker" /etc/crontabs/root > /tmp/root.cron && cat /tmp/root.cron > /etc/crontabs/root
rm -f /tmp/root.cron
/etc/init.d/cron restart
~~~

### 2) –£–¥–∞–ª–∏—Ç—å –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞

~~~sh
rm -rf ~/DPIChecker
~~~

---

## –ë—ã—Å—Ç—Ä—ã–π troubleshooting

### –ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- `TELEGRAM_BOT_TOKEN`
- `TELEGRAM_CHAT_ID`
- –µ—Å—Ç—å –ª–∏ —É –±–æ—Ç–∞ –ø—Ä–∞–≤–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
- –æ—Ç–∫—Ä—ã—Ç –ª–∏ —á–∞—Ç —Å –±–æ—Ç–æ–º (–¥–ª—è –ª–∏—á–Ω–æ–≥–æ —á–∞—Ç–∞)

### Cron –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

~~~sh
/etc/init.d/cron status
cat /etc/crontabs/root
/etc/init.d/cron restart
~~~

### –í—Ä—É—á–Ω—É—é —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤ cron ‚Äî –Ω–µ—Ç
–û–±—ã—á–Ω–æ —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –ø—É—Ç–∏/ENV.

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ cron-–∑–∞–ø–∏—Å—å –≤–∏–¥–∞:

~~~sh
cd '/home/youruser/DPIChecker' && . '/home/youruser/DPIChecker/dpi-checker.env' && ./dpi-checker.sh
~~~
